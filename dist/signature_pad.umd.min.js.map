{"version":3,"file":"signature_pad.umd.min.js","sources":["../src/point.ts","../src/bezier.ts","../src/signature_event_target.ts","../src/signature_pad.ts","../src/throttle.ts"],"sourcesContent":[null,null,null,null,null],"names":["Point","constructor","x","y","pressure","time","azimuth","altitude","isNaN","Error","this","Date","now","distanceTo","start","Math","sqrt","pow","equals","other","velocityFrom","Bezier","startPoint","control2","control1","endPoint","startWidth","endWidth","static","points","widths","c2","calculateControlPoints","c3","c1","end","s1","s2","s3","dx1","dy1","dx2","dy2","m1","m2","l1","l2","k","cm","tx","ty","length","px","py","i","t","cx","point","cy","xdiff","ydiff","SignatureEventTarget","_et","EventTarget","error","document","addEventListener","type","listener","options","dispatchEvent","event","removeEventListener","callback","SignaturePad","canvas","super","_handleMouseDown","buttons","_drawningStroke","_strokeBegin","_handleMouseMove","_strokeMoveUpdate","_handleMouseUp","_strokeEnd","_handleTouchStart","cancelable","preventDefault","targetTouches","touch","changedTouches","_handleTouchMove","_handleTouchEnd","target","_handlePointerStart","_handlePointerMove","_handlePointerEnd","velocityFilterWeight","minWidth","maxWidth","throttle","minDistance","dotSize","penColor","backgroundColor","fn","wait","result","storedContext","storedArgs","previous","timeout","later","apply","args","remaining","clearTimeout","window","setTimeout","prototype","_strokeUpdate","_ctx","getContext","clear","on","ctx","fillStyle","clearRect","width","height","fillRect","_data","_reset","_getPointGroupOptions","_isEmpty","fromDataURL","dataUrl","Promise","resolve","reject","image","Image","ratio","devicePixelRatio","xOffset","yOffset","onload","drawImage","onerror","crossOrigin","src","toDataURL","encoderOptions","undefined","btoa","toSVG","style","touchAction","msTouchAction","userSelect","isIOS","test","navigator","userAgent","PointerEvent","_handlePointerEvents","_handleMouseEvents","_handleTouchEvents","off","ownerDocument","isEmpty","fromData","pointGroups","_fromData","_drawCurve","bind","_drawDot","concat","toData","group","CustomEvent","detail","pointGroupOptions","newPointGroup","push","clientX","clientY","force","azimuthAngle","altitudeAngle","_createPoint","lastPointGroup","lastPoints","lastPoint","isLastPointTooClose","curve","_addPoint","_lastPoints","_lastVelocity","_lastWidth","rect","getBoundingClientRect","left","top","getTime","unshift","_calculateCurveWidths","fromPoints","shift","velocity","newWidth","_strokeWidth","max","_drawCurveSegment","moveTo","arc","PI","widthDelta","drawSteps","ceil","beginPath","tt","ttt","u","uu","uuu","min","closePath","fill","drawCurve","drawDot","j","basicPoint","includeBackgroundColor","maxX","maxY","svg","createElementNS","setAttribute","toString","createElement","appendChild","path","attr","toFixed","circle","size","outerHTML"],"mappings":"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"}